{
    "displayName": "test-apigw-deployment",
    "specification": {
        "routes": [
            {
                "backend": {
                    "type": "DYNAMIC_ROUTING_BACKEND",
                    "selectionSource": {
                        "selector": "request.path[pathname]",
                        "type": "SINGLE"
                    },
                    "routingBackends": [
                        {
                            "key": {
                                "type": "ANY_OF",
                                "isDefault": false,
                                "name": "app-dept",
                                "values": [
                                    "app/dept"
                                ]
                            },
                            "backend": {
                                "type": "ORACLE_FUNCTIONS_BACKEND",
                                "functionId": "##FN_FUNCTION_OCID##"
                            }
                        },
                        {
                            "key": {
                                "type": "ANY_OF",
                                "isDefault": false,
                                "name": "info",
                                "values": [
                                    "app/info"
                                ]
                            },
                            "backend": {
                                "type": "STOCK_RESPONSE_BACKEND",
                                "body": "FUNCTION",
                                "status": 200
                            }
                        },
                        {
                            "key": {
                                "type": "ANY_OF",
                                "isDefault": true,
                                "name": "default",
                                "values": [
                                    "index.html"
                                ]
                            },
                            "backend": {
                                "type": "HTTP_BACKEND",
                                "url": "##BUCKET_URL##/${request.path[pathname]}",
                                "connectTimeoutInSeconds": 60,
                                "readTimeoutInSeconds": 10,
                                "sendTimeoutInSeconds": 10,
                                "isSslVerifyDisabled": false
                            }
                        }
                    ]
                },
                "path": "/{pathname*}",
                "methods": [
                    "ANY"
                ],
                "requestPolicies": {},
                "responsePolicies": {},
                "loggingPolicies": {
                    "executionLog": {
                        "logLevel": null,
                        "isEnabled": null
                    }
                }
            },
            {
                "backend": {
                    "type": "HTTP_BACKEND",
                    "url": "##BUCKET_URL##/index.html",
                    "connectTimeoutInSeconds": 60,
                    "readTimeoutInSeconds": 10,
                    "sendTimeoutInSeconds": 10,
                    "isSslVerifyDisabled": false
                },
                "path": "/",
                "methods": [
                    "ANY"
                ],
                "requestPolicies": {},
                "responsePolicies": {},
                "loggingPolicies": {
                    "executionLog": {
                        "logLevel": null,
                        "isEnabled": null
                    }
                }
            }
        ],
        "requestPolicies": {
            "mutualTls": {
                "isVerifiedCertificateRequired": false,
                "allowedSans": []
            }
        },
        "loggingPolicies": {
            "accessLog": {
                "isEnabled": true
            },
            "executionLog": {
                "logLevel": "INFO",
                "isEnabled": true
            }
        }
    },
    "waitForState": [
        "FAILED",
        "SUCCEEDED",
        "CANCELED"
    ]
}